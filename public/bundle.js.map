{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://pet-fresh-label-printer/./src/renderer.js"],"sourcesContent":["// Pet Fresh Label Printer - Main renderer\ndocument.addEventListener('DOMContentLoaded', async () => {\n  const appDiv = document.getElementById('app');\n  \n  // Get current app version using IPC\n  let appVersion = 'v0.1';\n  try {\n    // Use the exposed ipcRenderer to call for version\n    window.api.getAppVersion().then(version => {\n      appVersion = version;\n      // Update version display if UI already rendered\n      const versionElement = document.getElementById('appVersion');\n      if (versionElement) {\n        versionElement.textContent = appVersion;\n      }\n    }).catch(err => {\n      console.error('Error getting app version:', err);\n    });\n  } catch (error) {\n    console.error('Error setting up IPC communication:', error);\n  }\n  \n  // Load product data\n  let productData = {};\n  \n  // Settings dialog state\n  let isSettingsOpen = false;\n  \n  // Function to open settings in a new window\n  function openSettingsWindow() {\n    // Use IPC to request opening settings window\n    window.api.openSettings()\n      .then(() => {\n        console.log('Settings window opened');\n      })\n      .catch(err => {\n        console.error('Error opening settings:', err);\n      });\n  }\n  \n  try {\n    const response = await fetch('../src/data/products.json');\n    productData = await response.json();\n    console.log('Loaded product data:', Object.keys(productData));\n  } catch (error) {\n    console.error('Error loading product data:', error);\n    // Show error message\n    appDiv.innerHTML = `\n      <div style=\"padding: 20px; color: red;\">\n        <h2>Error Loading Product Data</h2>\n        <p>${error.message}</p>\n      </div>\n    `;\n    return;\n  }\n  \n  // Default selected category (first one in the data)\n  let selectedCategory = Object.keys(productData)[0];\n  \n  // Search functionality\n  let searchQuery = '';\n  let isSearchActive = false;\n  \n  // Global variables to remember label position and scale between selections\n  let currentLabelScale = null;\n  let currentLabelTranslateX = 0;\n  let currentLabelTranslateY = 0;\n  let baseScale = null; // Store the base fitting scale\n  \n  // Function to render the UI\n  function renderUI() {\n    appDiv.innerHTML = `\n      <div style=\"display: flex; flex-direction: column; height: 100vh; background-color: #f5f5f5;\">\n        <!-- Header -->\n        <div style=\"background-color: #9ba03b; color: white; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center;\">\n          <div style=\"font-size: 20px; font-weight: bold;\">Pet Fresh Label Printing</div>\n          <div style=\"display: flex; align-items: center;\">\n            <span style=\"margin-right: 10px;\">Printer: KITCHEN</span>\n            <span style=\"color: #4CAF50; font-size: 24px;\">‚óè</span>\n          </div>\n          <div style=\"display: flex; align-items: center;\">\n            <span id=\"appVersion\" style=\"margin-right: 10px;\">${appVersion}</span>\n            <button id=\"settingsButton\" style=\"background: none; border: none; color: white; cursor: pointer; padding: 5px; border-radius: 4px; transition: background-color 0.2s ease;\">\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M8.325 2.317C8.751 0.561 11.249 0.561 11.675 2.317C11.7389 2.5808 11.8642 2.82578 12.0405 3.032C12.2168 3.23822 12.4399 3.39985 12.6907 3.50375C12.9414 3.60764 13.2132 3.65085 13.4838 3.62987C13.7544 3.60889 14.0162 3.5243 14.248 3.383C15.791 2.443 17.558 4.209 16.618 5.753C16.4769 5.98466 16.3924 6.24634 16.3715 6.51677C16.3506 6.78721 16.3938 7.05877 16.4975 7.30938C16.6013 7.55999 16.7627 7.78258 16.9687 7.95905C17.1747 8.13553 17.4194 8.26091 17.683 8.325C19.439 8.751 19.439 11.249 17.683 11.675C17.4192 11.7389 17.1742 11.8642 16.968 12.0405C16.7618 12.2168 16.6001 12.4399 16.4963 12.6907C16.3924 12.9414 16.3491 13.2132 16.3701 13.4838C16.3911 13.7544 16.4757 14.0162 16.617 14.248C17.557 15.791 15.791 17.558 14.247 16.618C14.0153 16.4769 13.7537 16.3924 13.4832 16.3715C13.2128 16.3506 12.9412 16.3938 12.6906 16.4975C12.44 16.6013 12.2174 16.7627 12.0409 16.9687C11.8645 17.1747 11.7391 17.4194 11.675 17.683C11.249 19.439 8.751 19.439 8.325 17.683C8.26108 17.4192 8.13578 17.1742 7.95949 16.968C7.7832 16.7618 7.56011 16.6001 7.30935 16.4963C7.05859 16.3924 6.78683 16.3491 6.51621 16.3701C6.24559 16.3911 5.98375 16.4757 5.752 16.617C4.209 17.557 2.442 15.791 3.382 14.247C3.5231 14.0153 3.60755 13.7537 3.62848 13.4832C3.6494 13.2128 3.60624 12.9412 3.50247 12.6906C3.3987 12.44 3.23726 12.2174 3.03127 12.0409C2.82529 11.8645 2.58056 11.7391 2.317 11.675C0.561 11.249 0.561 8.751 2.317 8.325C2.5808 8.26108 2.82578 8.13578 3.032 7.95949C3.23822 7.7832 3.39985 7.56011 3.50375 7.30935C3.60764 7.05859 3.65085 6.78683 3.62987 6.51621C3.60889 6.24559 3.5243 5.98375 3.383 5.752C2.443 4.209 4.209 2.442 5.753 3.382C6.753 4.011 8.049 3.696 8.325 2.317Z\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                <path d=\"M10 13C11.6569 13 13 11.6569 13 10C13 8.34315 11.6569 7 10 7C8.34315 7 7 8.34315 7 10C7 11.6569 8.34315 13 10 13Z\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n        \n        <!-- Main Content -->\n        <div style=\"display: flex; flex: 1; padding: 0; overflow: hidden;\">\n          <!-- Left Column - Categories -->\n          <div style=\"width: 25%; background-color: #f5f5f5; display: flex; flex-direction: column; border-right: 1px solid #ddd;\">\n            <!-- Search Box -->\n            <div style=\"padding: 10px; border-bottom: 1px solid #ddd;\">\n              <div style=\"display: flex; position: relative;\">\n                <input id=\"searchInput\" type=\"text\" placeholder=\"Search products...\" \n                  style=\"flex: 1; padding: 8px 32px 8px 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);\" \n                  value=\"${searchQuery}\">\n                ${searchQuery ? `\n                  <button id=\"clearSearch\" style=\"position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; width: 18px; height: 18px; display: flex; justify-content: center; align-items: center; border-radius: 50%; background-color: #9e9e9e; color: white; font-size: 14px; line-height: 1; padding: 0;\">\n                    <span style=\"position: relative; top: -1px;\">‚úï</span>\n                  </button>\n                ` : ''}\n              </div>\n            </div>\n            \n            <!-- Category List -->\n            <div style=\"flex: 1; overflow-y: auto; overflow-x: hidden;\">\n              ${Object.entries(productData).map(([category, data]) => {\n                const isSelected = category === selectedCategory && !isSearchActive;\n                return `\n                  <div class=\"category-item\" \n                       data-category=\"${category}\"\n                       style=\"position: relative; background-color: ${data.color}; color: white; padding: 15px; text-align: center; font-weight: bold; font-size: 18px; margin-bottom: 2px; cursor: pointer; ${isSelected ? 'clip-path: polygon(0 0, calc(100% - 15px) 0, 100% 50%, calc(100% - 15px) 100%, 0 100%);' : 'margin-right: 15px;'}\">\n                    ${category}\n                    ${isSelected ? `\n                      <div style=\"position: absolute; right: 0; top: 0; width: 0; height: 0; border-top: 25px solid white; border-left: 15px solid transparent; transform: translateY(0);\"></div>\n                    ` : ''}\n                  </div>\n                `;\n              }).join('')}\n            </div>\n          </div>\n          \n          <!-- Middle Column - Products -->\n          <div style=\"width: 50%; background-color: white; overflow-y: auto; display: flex; flex-direction: column; padding: 15px;\">\n            <!-- Product Categories -->\n            <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;\">\n              <h2 style=\"margin: 0; font-weight: bold; font-size: 28px;\">${isSearchActive ? 'SEARCH RESULTS' : 'PRODUCTS'}</h2>\n              ${isSearchActive ? `\n                <div style=\"display: flex; align-items: center; background-color: #f0f0f0; padding: 5px 10px; border-radius: 4px;\">\n                  <span style=\"margin-right: 10px; font-size: 14px;\">Search: \"${searchQuery}\"</span>\n                  <button id=\"clearSearchResults\" style=\"background: none; border: none; cursor: pointer; width: 20px; height: 20px; display: flex; justify-content: center; align-items: center; border-radius: 50%; background-color: #9e9e9e; color: white; font-size: 12px; line-height: 1; padding: 0;\">\n                    <span style=\"position: relative; top: -1px;\">‚úï</span>\n                  </button>\n                </div>\n              ` : ''}\n            </div>\n            \n            <!-- Products Display -->\n            <div id=\"productsContainer\">\n              ${(() => {\n                const filteredProducts = getFilteredProducts();\n                \n                if (filteredProducts.length === 0) {\n                  return `\n                    <div style=\"text-align: center; color: #888; padding: 40px 0;\">\n                      ${isSearchActive ? 'No products match your search' : 'No products in this category'}\n                    </div>\n                  `;\n                }\n                \n                if (isSearchActive || !hasMultipleProductTypes(filteredProducts)) {\n                  // Display a simple grid for search results or when there's only one product type\n                  return `\n                    <div style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 30px;\">\n                      ${filteredProducts.map(product => {\n                        // Format price from cents to dollars\n                        const formattedPrice = product.productprice ? \n                          `$${(product.productprice / 100).toFixed(2)}` : '';\n                        \n                        // Format size and unit\n                        const sizeUnit = product.productSize ? \n                          `${product.productSize}${product.productUnit || ''}` : '';\n                        \n                        return `\n                          <div class=\"product-item\" \n                               data-product-id=\"${product.id}\"\n                               style=\"background-color: ${product.selected ? '#9ba03b' : '#ddd'}; color: ${product.selected ? 'white' : 'black'}; padding: 20px; text-align: center; font-weight: bold; cursor: pointer; aspect-ratio: 1; display: flex; align-items: center; justify-content: center;\">\n                            <div>\n                              ${product.productname.replace(/ /g, '<br/>')}\n                              <div style=\"font-size: 14px; margin-top: 5px; color: ${product.selected ? '#eee' : '#666'};\">${formattedPrice}</div>\n                              <div style=\"font-size: 12px; color: ${product.selected ? '#eee' : '#888'};\">${sizeUnit}</div>\n                            </div>\n                          </div>\n                        `;\n                      }).join('')}\n                    </div>\n                  `;\n                } else {\n                  // Group products by type when there are multiple types and it's not a search\n                  const groupedProducts = groupProductsByType(filteredProducts);\n                  \n                  return Object.entries(groupedProducts).map(([type, products]) => {\n                    return `\n                      <div style=\"margin-bottom: 25px;\">\n                        <h3 style=\"margin: 0 0 15px 0; font-weight: bold; font-size: 22px; border-bottom: 2px solid #9ba03b; padding-bottom: 8px; color: #333;\">${type}</h3>\n                        <div style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px;\">\n                          ${products.map(product => {\n                            // Format price from cents to dollars\n                            const formattedPrice = product.productprice ? \n                              `$${(product.productprice / 100).toFixed(2)}` : '';\n                            \n                            // Format size and unit\n                            const sizeUnit = product.productSize ? \n                              `${product.productSize}${product.productUnit || ''}` : '';\n                            \n                            return `\n                              <div class=\"product-item\" \n                                   data-product-id=\"${product.id}\"\n                                   style=\"background-color: ${product.selected ? '#9ba03b' : '#ddd'}; color: ${product.selected ? 'white' : 'black'}; padding: 20px; text-align: center; font-weight: bold; cursor: pointer; aspect-ratio: 1; display: flex; align-items: center; justify-content: center;\">\n                                <div>\n                                  ${product.productname.replace(/ /g, '<br/>')}\n                                  <div style=\"font-size: 14px; margin-top: 5px; color: ${product.selected ? '#eee' : '#666'};\">${formattedPrice}</div>\n                                  <div style=\"font-size: 12px; color: ${product.selected ? '#eee' : '#888'};\">${sizeUnit}</div>\n                                </div>\n                              </div>\n                            `;\n                          }).join('')}\n                        </div>\n                      </div>\n                    `;\n                  }).join('');\n                }\n              })()}\n            </div>\n          </div>\n          \n          <!-- Right Column - Label Preview -->\n          <div style=\"width: 25%; background-color: #f5f5f5; display: flex; flex-direction: column; border-left: 1px solid #ddd; height: 100%;\">\n            <!-- Label Preview - Now takes all available space -->\n            <div id=\"labelPreviewContainer\" style=\"flex: 1; background-color: white; margin: 10px 10px 10px 10px; border: 1px solid #ddd; border-radius: 6px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); display: flex; justify-content: center; align-items: center; overflow: hidden;\">\n              <div style=\"text-align: center; width: 90%; height: 90%; border: 1px dashed #ccc; border-radius: 4px; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 10px;\">\n                <div style=\"font-size: 16px; color: #888;\">Select a product to preview label</div>\n              </div>\n            </div>\n            \n            <!-- Bottom Controls Container -->\n            <div style=\"padding: 10px; border-top: 1px solid #ddd; background-color: #f5f5f5; border-radius: 0 0 4px 4px;\">\n              <!-- Quantity Controls -->\n              <div style=\"display: flex; align-items: center; justify-content: center; width: 100%; margin-bottom: 10px;\">\n                <button id=\"decreaseQuantity\" style=\"width: 40px; height: 40px; font-size: 20px; border: none; background-color: #ddd; border-radius: 50%; cursor: pointer; display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease;\">\n                  <span style=\"font-size: 24px;\">-</span>\n                </button>\n                <div id=\"quantityDisplay\" style=\"width: 100px; text-align: center; background-color: #ddd; margin: 0 10px; padding: 8px; font-weight: bold; font-size: 20px; border-radius: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);\">1</div>\n                <button id=\"increaseQuantity\" style=\"width: 40px; height: 40px; font-size: 20px; border: none; background-color: #ddd; border-radius: 50%; cursor: pointer; display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: all 0.2s ease;\">\n                  <span style=\"font-size: 24px;\">+</span>\n                </button>\n              </div>\n              \n              <!-- Print Button -->\n              <button id=\"printButton\" style=\"width: 100%; padding: 15px; background-color: #9ba03b; color: white; border: none; font-size: 18px; font-weight: bold; cursor: pointer; border-radius: 4px; box-shadow: 0 2px 5px rgba(155, 160, 59, 0.3); transition: all 0.2s ease;\">PRINT LABEL</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n    \n    // Add event listeners after rendering\n    setupEventListeners();\n  }\n  \n  // Function to generate label HTML from template and product data\n  async function generateLabelHtml(product, category) {\n    if (!product) return null;\n    \n    try {\n      // Format the price (convert from cents to dollars)\n      const formattedPrice = (product.productprice / 100).toFixed(2);\n      \n      // Get the first barcode if available\n      const barcode = product.barcodes && product.barcodes.length > 0 ? product.barcodes[0] : '0000000000000';\n      \n    // Label dimensions (in mm)\n    const labelWidth = 60; // Width of the label in mm\n    const labelHeight = 162; // Height of the label in mm (including the bottom area)\n    const gutterHeight = 34.5; // Height of the bottom gutter area\n    const contentHeight = labelHeight - gutterHeight; // Height of the content area\n\n    // Margins (in mm)\n    const horizontalMargin = 5; // Left and right margins\n    const contentWidth = labelWidth - (horizontalMargin * 2); // Width of content area with margins\n\n    // Section heights (in mm)\n    const productTitleHeight = 20.5; // Product title section height\n    const ingredientsHeight = 15.5; // Ingredients section height\n    const petFoodOnlyHeight = 6.5; // \"Pet Food Only\" section height\n    const storageInstructionsHeight = 12.5; // Storage instructions section height\n    const dataHeight = 19.5; // Date and weight section height\n    const priceHeight = 3; // Price section height\n\n    // Calculate section positions\n    const contentStartY = 50; // Content starts at 50mm from top\n    const titleY = contentStartY;\n    const ingredientsY = titleY + productTitleHeight;\n    const petFoodOnlyY = ingredientsY + ingredientsHeight;\n    const storageInstructionsY = petFoodOnlyY + petFoodOnlyHeight;\n    const dataY = storageInstructionsY + storageInstructionsHeight;\n    const priceY = dataY + dataHeight;\n      \n      // Prepare product name for auto-sizing\n      const productName = product.productname;\n      const nameLength = productName.length;\n      const words = productName.split(' ');\n      \n      // Calculate ideal font size\n      let calculatedFontSize;\n      \n      // Approach: Use larger fonts for shorter texts, especially important words\n      if (words.length === 1 && nameLength <= 8) {\n        // Single short word - very large font\n        calculatedFontSize = 8;\n      } else if (nameLength <= 12) {\n        // Short text - large font\n        calculatedFontSize = 7;\n      } else if (nameLength <= 16) {\n        // Medium length - medium font\n        calculatedFontSize = 6;\n      } else if (nameLength <= 25) {\n        // Longer text - medium-small font\n        calculatedFontSize = 5;\n      } else {\n        // Very long text - small font\n        calculatedFontSize = 4;\n      }\n      \n      // For 2-word product names that are important (like \"CHICKEN NECKS\"),\n      // try to keep them on one line unless they're too long\n      const forceSingleLine = words.length === 2 && nameLength <= 14;\n      \n      // Generate product title HTML\n      const productTitleHTML = `\n        <div style=\"\n          width: 100%; \n          height: 100%; \n          display: flex; \n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          padding: 0.5mm;\n        \">\n          <div style=\"\n            font-size: ${calculatedFontSize}mm; \n            line-height: 1.15; \n            font-weight: bold; \n            text-align: center; \n            width: 100%; \n            overflow: hidden;\n            ${forceSingleLine ? 'white-space: nowrap; text-overflow: ellipsis;' : \n              'display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; word-break: break-word;'}\n          \">${productName}</div>\n        </div>\n      `;\n      \n      // Calculate best before date based on product expiration settings\n      let bestBeforeDate;\n      const today = new Date();\n      \n      if (product.expirationDuration && product.expirationType) {\n        const expirationDate = new Date(today);\n        \n        switch (product.expirationType) {\n          case 'days':\n            expirationDate.setDate(expirationDate.getDate() + product.expirationDuration);\n            break;\n          case 'weeks':\n            expirationDate.setDate(expirationDate.getDate() + (product.expirationDuration * 7));\n            break;\n          case 'months':\n            expirationDate.setMonth(expirationDate.getMonth() + product.expirationDuration);\n            break;\n          case 'years':\n            expirationDate.setFullYear(expirationDate.getFullYear() + product.expirationDuration);\n            break;\n          default:\n            // Default to 30 days if type is not recognized\n            expirationDate.setDate(expirationDate.getDate() + 30);\n        }\n        \n        bestBeforeDate = expirationDate.toLocaleDateString('en-AU', {day: '2-digit', month: 'short', year: '2-digit'});\n      } else {\n        // Fallback to 30 days if expiration settings are not provided\n        const defaultExpirationDate = new Date(today);\n        defaultExpirationDate.setDate(defaultExpirationDate.getDate() + 30);\n        bestBeforeDate = defaultExpirationDate.toLocaleDateString('en-AU', {day: '2-digit', month: 'short', year: '2-digit'});\n      }\n      \n      // Ingredient lines (empty if not provided)\n      const ingredientsLine1 = product.ingredientsLine1 || '';\n      const ingredientsLine2 = product.ingredientsLine2 || '';\n      const ingredientsLine3 = product.ingredientsLine3 || '';\n      \n      // Generate the weight/quantity HTML based on product properties\n      let weightQuantityHTML = '';\n      if (product.productUnit === 'pcs' && product.productSize === 1) {\n        // Don't display anything for single piece products\n        weightQuantityHTML = '';\n      } else if (product.productUnit === 'pcs' && product.productSize > 1) {\n        weightQuantityHTML = `\n          <div class=\"data-label\">QUANTITY</div>\n          <div class=\"data-value\" style=\"margin-bottom: 0;\">\n            ${product.productSize} pieces\n          </div>\n        `;\n      } else {\n        weightQuantityHTML = `\n          <div class=\"data-label\">WEIGHT</div>\n          <div class=\"data-value\" style=\"margin-bottom: 0;\">\n            ${product.productSize}${product.productUnit}\n          </div>\n        `;\n      }\n      \n      // Template variables\n      const templateVars = {\n        labelWidth,\n        labelHeight,\n        horizontalMargin,\n        contentWidth,\n        titleY,\n        productTitleHeight,\n        ingredientsY,\n        ingredientsHeight,\n        petFoodOnlyY,\n        petFoodOnlyHeight,\n        storageInstructionsY,\n        storageInstructionsHeight,\n        dataY,\n        dataHeight,\n        priceY,\n        priceHeight,\n        calculatedFontSize,\n        productTitleHTML,\n        ingredientsLine1,\n        ingredientsLine2,\n        ingredientsLine3,\n        bestBeforeDate,\n        weightQuantityHTML,\n        productSize: product.productSize,\n        productUnit: product.productUnit,\n        barcode,\n        formattedPrice,\n        overlayImagePath: '../src/assets/overlay.png'\n      };\n      \n      // Load the template file\n      const templatePath = '../src/templates/label-template.html';\n      const templateResponse = await fetch(templatePath);\n      let templateContent = await templateResponse.text();\n      \n      // Replace template variables with actual values\n      Object.entries(templateVars).forEach(([key, value]) => {\n        const regex = new RegExp('\\\\$\\\\{' + key + '\\\\}', 'g');\n        templateContent = templateContent.replace(regex, value);\n      });\n      \n      return templateContent;\n    } catch (error) {\n      console.error('Error generating label HTML:', error);\n      return `<div style=\"color: red;\">Error generating label: ${error.message}</div>`;\n    }\n  }\n  \n  // Function to update the label preview\n  async function updateLabelPreview() {\n    // Find selected product\n    let selectedProduct = null;\n    let productCategory = '';\n    \n    // Check all categories for a selected product\n    for (const [category, data] of Object.entries(productData)) {\n      if (!data.products) continue;\n      \n      const product = data.products.find(p => p.selected);\n      if (product) {\n        selectedProduct = product;\n        productCategory = category;\n        break;\n      }\n    }\n    \n    const labelPreviewContainer = document.getElementById('labelPreviewContainer');\n    \n    if (!selectedProduct) {\n      // No product selected, show empty preview\n      labelPreviewContainer.innerHTML = `\n        <div style=\"text-align: center; width: 100%; height: 100%; border: 1px dashed #ccc; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 10px;\">\n          <div style=\"font-size: 16px; color: #888;\">Select a product to preview label</div>\n        </div>\n      `;\n      // Reset position and scale when nothing is selected\n      currentLabelScale = null;\n      currentLabelTranslateX = 0;\n      currentLabelTranslateY = 0;\n      baseScale = null;\n      return;\n    }\n    \n    try {\n      // Generate label HTML\n      const labelHtml = await generateLabelHtml(selectedProduct, productCategory);\n      \n      // Create a container with zoom controls and preview\n      const previewHtml = `\n        <div style=\"position: relative; width: 100%; height: 100%; display: flex; flex-direction: column; background: #f5f5f5; overflow: hidden; border-radius: 4px;\">\n          <!-- Zoom controls -->\n          <div style=\"padding: 8px; display: flex; justify-content: flex-end; gap: 5px; background: #e8e8e8; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom: 1px solid #ddd;\">\n            <button id=\"zoomOut\" style=\"width: 30px; height: 30px; font-size: 16px; border: none; background-color: #ddd; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 1px 2px rgba(0,0,0,0.1);\">-</button>\n            <button id=\"zoomReset\" style=\"padding: 0 8px; height: 30px; font-size: 12px; border: none; background-color: #ddd; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 1px 2px rgba(0,0,0,0.1);\">Reset</button>\n            <button id=\"zoomIn\" style=\"width: 30px; height: 30px; font-size: 16px; border: none; background-color: #ddd; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 1px 2px rgba(0,0,0,0.1);\">+</button>\n            <button id=\"toggleDesign\" style=\"padding: 0 8px; height: 30px; font-size: 12px; border: none; background-color: #ddd; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 1px 2px rgba(0,0,0,0.1);\">Show Design</button>\n          </div>\n          \n          <!-- Preview area with drag capability -->\n          <div id=\"labelPreviewArea\" style=\"flex: 1; position: relative; overflow: hidden; display: flex; justify-content: center; align-items: center; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;\">\n            <div id=\"labelElement\" style=\"transform-origin: center; cursor: move; opacity: 0; transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out; border-radius: 4px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);\">\n              ${labelHtml}\n            </div>\n          </div>\n        </div>\n      `;\n      \n      // Update the preview container\n      labelPreviewContainer.innerHTML = previewHtml;\n      \n      // Add container transitions\n      const previewAreaElement = document.getElementById('labelPreviewArea');\n      if (previewAreaElement) {\n        previewAreaElement.style.transition = 'background-color 0.3s ease-in-out';\n      }\n      \n      // Generate barcode locally\n      const barcodeElement = document.getElementById('barcode');\n      if (barcodeElement) {\n        const barcode = selectedProduct.barcodes && selectedProduct.barcodes.length > 0 \n          ? selectedProduct.barcodes[0] \n          : '0000000000000';\n        \n        // Create barcode SVG\n        generateBarcode(barcodeElement, barcode);\n      }\n      \n      // Add toggle design functionality\n      const toggleDesignButton = document.getElementById('toggleDesign');\n      const designOverlay = document.querySelector('.design-overlay');\n      \n      if (toggleDesignButton && designOverlay) {\n        let designVisible = true;\n        toggleDesignButton.textContent = 'Hide Design';\n        \n        toggleDesignButton.addEventListener('click', function() {\n          designVisible = !designVisible;\n          designOverlay.style.display = designVisible ? 'block' : 'none';\n          toggleDesignButton.textContent = designVisible ? 'Hide Design' : 'Show Design';\n        });\n      }\n      \n      // Auto-scale to fit the preview area\n      const labelElement = document.getElementById('labelElement');\n      \n      if (labelElement && previewAreaElement) {\n        // Let the DOM update before measuring\n        setTimeout(() => {\n          // Get dimensions of preview area and label\n          const previewRect = previewAreaElement.getBoundingClientRect();\n          const labelRect = labelElement.getBoundingClientRect();\n          \n          // Calculate the scale needed to fit the longest side\n          const scaleWidth = (previewRect.width - 40) / labelRect.width;  // -40 for padding\n          const scaleHeight = (previewRect.height - 40) / labelRect.height;\n          \n          // Use the smaller scale to ensure the entire label fits\n          const fitScale = Math.min(scaleWidth, scaleHeight);\n          \n          // Store the base scale if not already set\n          if (baseScale === null) {\n            baseScale = fitScale;\n          }\n          \n          // Use saved scale and position if available, otherwise use the calculated fit scale\n          const scale = currentLabelScale || fitScale;\n          const translateX = currentLabelTranslateX;\n          const translateY = currentLabelTranslateY;\n          \n          // Apply the transform\n          labelElement.style.transform = `scale(${scale}) translate(${translateX}px, ${translateY}px)`;\n          \n          // Fade in the label with a slight delay\n          setTimeout(() => {\n            labelElement.style.opacity = '1';\n          }, 50);\n          \n          // Setup zoom and drag with current scale\n          setupPreviewControls(scale, fitScale);\n        }, 50);\n      }\n      \n    } catch (error) {\n      console.error('Error updating label preview:', error);\n      // Show fallback preview with error message\n      labelPreviewContainer.innerHTML = `\n        <div style=\"text-align: center; width: 100%; height: 100%; border: 1px dashed #ccc; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 10px;\">\n          <div style=\"color: red; margin-bottom: 10px;\">Error generating preview</div>\n          <div style=\"font-size: 12px;\">${error.message}</div>\n        </div>\n      `;\n      \n      // Reset position and scale on error\n      currentLabelScale = null;\n      currentLabelTranslateX = 0;\n      currentLabelTranslateY = 0;\n      baseScale = null;\n    }\n  }\n  \n  // Function to generate barcode locally\n  function generateBarcode(element, value) {\n    if (!element) return;\n    \n    const barcode = value || '0000000000000';\n    \n    // Clear any existing content\n    element.innerHTML = '';\n    \n    // Generate simple CODE128 barcode\n    // This is a simplified version - in production you'd use a more robust implementation\n    // Format: each character in the barcode is represented by 11 modules (thin/thick bars)\n    const barcodeWidth = 100; // percentage width\n    const height = 30;\n    const moduleCount = barcode.length * 11;\n    const moduleWidth = barcodeWidth / moduleCount;\n    \n    // Generate pseudo-random bars based on the barcode value\n    // Not a real CODE128 implementation, just for visual representation\n    let svg = '';\n    let currentX = 0;\n    \n    for (let i = 0; i < barcode.length; i++) {\n      const charCode = barcode.charCodeAt(i);\n      \n      // Generate 5 bars for each character (3 black, 2 white)\n      for (let j = 0; j < 5; j++) {\n        const isBlack = j % 2 === 0;\n        const width = (charCode % 3 + 1) * moduleWidth; // Vary width based on char code\n        \n        if (isBlack) {\n          svg += `<rect x=\"${currentX}%\" y=\"0\" width=\"${width}%\" height=\"${height}\" fill=\"black\" />`;\n        }\n        \n        currentX += width;\n      }\n    }\n    \n    element.innerHTML = svg;\n    element.setAttribute('viewBox', `0 0 100 ${height}`);\n    element.setAttribute('preserveAspectRatio', 'none');\n  }\n  \n  // Function to setup zoom and drag controls for label preview\n  function setupPreviewControls(initialScale, baseFitScale) {\n    const labelElement = document.getElementById('labelElement');\n    const previewArea = document.getElementById('labelPreviewArea');\n    const zoomInButton = document.getElementById('zoomIn');\n    const zoomOutButton = document.getElementById('zoomOut');\n    const zoomResetButton = document.getElementById('zoomReset');\n    \n    if (!labelElement || !previewArea) return;\n    \n    let scale = initialScale || 1; // Use the provided initial scale or default to 1\n    let isDragging = false;\n    let startX, startY, translateX = currentLabelTranslateX, translateY = currentLabelTranslateY;\n    let lastDistance = 0; // For pinch zoom\n    \n    // Store the base fit scale for reset\n    const originalScale = baseFitScale || scale;\n    \n    // Update transform and save current position\n    function updateTransform(withTransition = false) {\n      if (withTransition) {\n        labelElement.style.transition = 'transform 0.3s ease-out';\n        setTimeout(() => {\n          labelElement.style.transition = 'opacity 0.3s ease-in-out';\n        }, 300);\n      } else {\n        labelElement.style.transition = 'opacity 0.3s ease-in-out';\n      }\n      \n      labelElement.style.transform = `scale(${scale}) translate(${translateX}px, ${translateY}px)`;\n      \n      // Save current values to global variables\n      currentLabelScale = scale;\n      currentLabelTranslateX = translateX;\n      currentLabelTranslateY = translateY;\n    }\n    \n    // Zoom in button\n    zoomInButton.addEventListener('click', function() {\n      scale += scale * 0.2; // 20% increase\n      updateTransform(true);\n    });\n    \n    // Zoom out button\n    zoomOutButton.addEventListener('click', function() {\n      scale = Math.max(scale * 0.8, originalScale * 0.5); // 20% decrease with min limit\n      updateTransform(true);\n    });\n    \n    // Reset zoom\n    zoomResetButton.addEventListener('click', function() {\n      scale = originalScale;\n      translateX = 0;\n      translateY = 0;\n      updateTransform(true);\n    });\n    \n    // Drag functionality\n    labelElement.addEventListener('mousedown', function(e) {\n      isDragging = true;\n      startX = e.clientX;\n      startY = e.clientY;\n      labelElement.style.cursor = 'grabbing';\n      labelElement.style.transition = 'none'; // Disable transitions during drag\n      e.preventDefault();\n    });\n    \n    document.addEventListener('mousemove', function(e) {\n      if (!isDragging) return;\n      \n      const dx = (e.clientX - startX) / scale;\n      const dy = (e.clientY - startY) / scale;\n      \n      translateX += dx;\n      translateY += dy;\n      \n      startX = e.clientX;\n      startY = e.clientY;\n      \n      updateTransform(false);\n    });\n    \n    document.addEventListener('mouseup', function() {\n      if (isDragging) {\n        isDragging = false;\n        labelElement.style.cursor = 'move';\n        // Don't re-enable transitions immediately to avoid jumpy behavior\n        setTimeout(() => {\n          labelElement.style.transition = 'opacity 0.3s ease-in-out';\n        }, 50);\n      }\n    });\n    \n    // Mouse wheel zoom\n    previewArea.addEventListener('wheel', function(e) {\n      e.preventDefault();\n      \n      const delta = -Math.sign(e.deltaY);\n      const scaleFactor = delta > 0 ? 1.1 : 0.9;\n      \n      labelElement.style.transition = 'none'; // Disable transitions during wheel zoom\n      \n      // Calculate new scale with bounds\n      const newScale = Math.max(originalScale * 0.5, Math.min(scale * scaleFactor, originalScale * 5));\n      \n      // Get mouse position relative to the label\n      const rect = labelElement.getBoundingClientRect();\n      const mouseX = (e.clientX - rect.left) / scale;\n      const mouseY = (e.clientY - rect.top) / scale;\n      \n      // Calculate how much the mouse point will move at the new scale\n      const scaleDiff = newScale - scale;\n      \n      // Adjust translation to keep the point under the mouse \n      translateX -= mouseX * scaleDiff / newScale;\n      translateY -= mouseY * scaleDiff / newScale;\n      \n      // Apply new scale\n      scale = newScale;\n      \n      updateTransform(false);\n      \n      // Re-enable transitions after a brief delay\n      setTimeout(() => {\n        labelElement.style.transition = 'opacity 0.3s ease-in-out';\n      }, 50);\n    });\n    \n    // Touch support for mobile - enhanced with pinch zoom\n    previewArea.addEventListener('touchstart', function(e) {\n      if (e.touches.length === 1) {\n        isDragging = true;\n        startX = e.touches[0].clientX;\n        startY = e.touches[0].clientY;\n        labelElement.style.transition = 'none'; // Disable transitions during touch\n      } \n      else if (e.touches.length === 2) {\n        // Pinch-to-zoom - calculate initial distance between touch points\n        isDragging = false;\n        const dx = e.touches[0].clientX - e.touches[1].clientX;\n        const dy = e.touches[0].clientY - e.touches[1].clientY;\n        lastDistance = Math.sqrt(dx * dx + dy * dy);\n        labelElement.style.transition = 'none'; // Disable transitions during pinch\n      }\n      e.preventDefault();\n    });\n    \n    previewArea.addEventListener('touchmove', function(e) {\n      e.preventDefault();\n      \n      if (e.touches.length === 1 && isDragging) {\n        // Single touch = drag\n        const dx = (e.touches[0].clientX - startX) / scale;\n        const dy = (e.touches[0].clientY - startY) / scale;\n        \n        translateX += dx;\n        translateY += dy;\n        \n        startX = e.touches[0].clientX;\n        startY = e.touches[0].clientY;\n        \n        updateTransform(false);\n      } \n      else if (e.touches.length === 2) {\n        // Pinch zoom\n        const dx = e.touches[0].clientX - e.touches[1].clientX;\n        const dy = e.touches[0].clientY - e.touches[1].clientY;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        \n        // Calculate the center point between the two fingers\n        const centerX = (e.touches[0].clientX + e.touches[1].clientX) / 2;\n        const centerY = (e.touches[0].clientY + e.touches[1].clientY) / 2;\n        \n        // Get the element position\n        const rect = labelElement.getBoundingClientRect();\n        \n        // Convert center to element coordinates\n        const elementCenterX = (centerX - rect.left) / scale;\n        const elementCenterY = (centerY - rect.top) / scale;\n        \n        // Calculate zoom ratio\n        const ratio = distance / lastDistance;\n        \n        // Update scale with bounds\n        const newScale = Math.max(originalScale * 0.5, Math.min(scale * ratio, originalScale * 5));\n        \n        // Calculate how much the center point will move at the new scale\n        const scaleDiff = newScale - scale;\n        \n        // Adjust translation to keep the center point stable\n        translateX -= elementCenterX * scaleDiff / newScale;\n        translateY -= elementCenterY * scaleDiff / newScale;\n        \n        // Apply new scale\n        scale = newScale;\n        lastDistance = distance;\n        \n        updateTransform(false);\n      }\n    });\n    \n    previewArea.addEventListener('touchend', function(e) {\n      if (e.touches.length === 0) {\n        isDragging = false;\n        // Re-enable transitions after a brief delay\n        setTimeout(() => {\n          labelElement.style.transition = 'opacity 0.3s ease-in-out';\n        }, 50);\n      } else if (e.touches.length === 1) {\n        // If one finger is lifted but another remains, setup for dragging\n        isDragging = true;\n        startX = e.touches[0].clientX;\n        startY = e.touches[0].clientY;\n      }\n    });\n  }\n  \n  // Get filtered products based on search or category\n  function getFilteredProducts() {\n    if (isSearchActive && searchQuery) {\n      // Search across all categories\n      const results = [];\n      const lowerCaseQuery = searchQuery.toLowerCase();\n      \n      Object.values(productData).forEach(categoryData => {\n        if (categoryData.products) {\n          categoryData.products.forEach(product => {\n            // Search in product name\n            if (product.productname.toLowerCase().includes(lowerCaseQuery)) {\n              results.push(product);\n            }\n          });\n        }\n      });\n      \n      return results;\n    } else {\n      // Return products from the selected category\n      return (productData[selectedCategory]?.products || []);\n    }\n  }\n  \n  // Group products by type\n  function groupProductsByType(products) {\n    const groups = {};\n    \n    products.forEach(product => {\n      const type = product.type || 'Other';\n      if (!groups[type]) {\n        groups[type] = [];\n      }\n      groups[type].push(product);\n    });\n    \n    return groups;\n  }\n  \n  // Check if multiple product types exist\n  function hasMultipleProductTypes(products) {\n    const types = new Set();\n    \n    products.forEach(product => {\n      types.add(product.type || 'Other');\n    });\n    \n    return types.size > 1;\n  }\n  \n  // Function to set up all event listeners\n  function setupEventListeners() {\n    // Settings button click handler\n    const settingsButton = document.getElementById('settingsButton');\n    if (settingsButton) {\n      settingsButton.addEventListener('click', function() {\n        openSettingsWindow();\n      });\n      \n      // Add hover effect\n      settingsButton.addEventListener('mouseenter', function() {\n        this.style.backgroundColor = 'rgba(255, 255, 255, 0.2)';\n      });\n      \n      settingsButton.addEventListener('mouseleave', function() {\n        this.style.backgroundColor = 'transparent';\n      });\n    }\n    \n    // Close settings dialog\n    const closeSettingsButton = document.getElementById('closeSettings');\n    if (closeSettingsButton) {\n      closeSettingsButton.addEventListener('click', function() {\n        isSettingsOpen = false;\n        renderUI();\n      });\n    }\n    \n    // Close settings on click outside\n    const settingsDialog = document.getElementById('settingsDialog');\n    if (settingsDialog) {\n      settingsDialog.addEventListener('click', function(e) {\n        // Close only if clicking the overlay (not the content)\n        if (e.target === this) {\n          isSettingsOpen = false;\n          renderUI();\n        }\n      });\n    }\n    \n    // Add hover effects to buttons\n    const allButtons = document.querySelectorAll('button');\n    allButtons.forEach(button => {\n      // Skip buttons that might have custom hover states\n      if (button.id === 'printButton') {\n        // For the print button, use a darker green hover\n        button.addEventListener('mouseenter', function() {\n          this.style.backgroundColor = '#878c30';\n          this.style.boxShadow = '0 3px 7px rgba(155, 160, 59, 0.4)';\n        });\n        \n        button.addEventListener('mouseleave', function() {\n          this.style.backgroundColor = '#9ba03b';\n          this.style.boxShadow = '0 2px 5px rgba(155, 160, 59, 0.3)';\n        });\n      } else {\n        // For all other buttons, lighten the background\n        button.addEventListener('mouseenter', function() {\n          this.style.backgroundColor = '#e5e5e5';\n          this.style.boxShadow = '0 2px 5px rgba(0,0,0,0.2)';\n        });\n        \n        button.addEventListener('mouseleave', function() {\n          this.style.backgroundColor = '#ddd';\n          this.style.boxShadow = button.id.includes('Quantity') \n            ? '0 2px 4px rgba(0,0,0,0.1)' \n            : '0 1px 2px rgba(0,0,0,0.1)';\n        });\n      }\n      \n      // Add active state\n      button.addEventListener('mousedown', function() {\n        this.style.transform = 'translateY(1px)';\n      });\n      \n      button.addEventListener('mouseup', function() {\n        this.style.transform = 'translateY(0)';\n      });\n      \n      button.addEventListener('mouseleave', function() {\n        this.style.transform = 'translateY(0)';\n      });\n    });\n\n    // Search functionality\n    const searchInput = document.getElementById('searchInput');\n    if (searchInput) {\n      searchInput.addEventListener('keyup', function(e) {\n        if (e.key === 'Enter' || e.keyCode === 13) {\n          searchQuery = this.value.trim();\n          isSearchActive = searchQuery !== '';\n          renderUI();\n        }\n      });\n      \n      // Give the input focus when clicking on its container\n      const searchContainer = searchInput.parentElement;\n      searchContainer.addEventListener('click', function(e) {\n        if (e.target === this) {\n          searchInput.focus();\n        }\n      });\n    }\n    \n    // Clear search button\n    const clearSearchBtn = document.getElementById('clearSearch');\n    if (clearSearchBtn) {\n      // Add hover effect\n      clearSearchBtn.addEventListener('mouseenter', function() {\n        this.style.backgroundColor = '#757575';\n      });\n      \n      clearSearchBtn.addEventListener('mouseleave', function() {\n        this.style.backgroundColor = '#9e9e9e';\n      });\n      \n      clearSearchBtn.addEventListener('click', function() {\n        searchQuery = '';\n        searchInput.value = '';\n        isSearchActive = false;\n        renderUI();\n      });\n    }\n    \n    // Clear search results button\n    const clearSearchResultsBtn = document.getElementById('clearSearchResults');\n    if (clearSearchResultsBtn) {\n      // Add hover effect\n      clearSearchResultsBtn.addEventListener('mouseenter', function() {\n        this.style.backgroundColor = '#757575';\n      });\n      \n      clearSearchResultsBtn.addEventListener('mouseleave', function() {\n        this.style.backgroundColor = '#9e9e9e';\n      });\n      \n      clearSearchResultsBtn.addEventListener('click', function() {\n        searchQuery = '';\n        isSearchActive = false;\n        renderUI();\n      });\n    }\n    \n    // Category selection\n    const categoryElements = document.querySelectorAll('.category-item');\n    categoryElements.forEach(item => {\n      item.addEventListener('click', function() {\n        const category = this.getAttribute('data-category');\n        selectedCategory = category;\n        \n        // Re-render UI with new selected category\n        renderUI();\n      });\n    });\n    \n    // Product selection\n    const productItems = document.querySelectorAll('.product-item');\n    productItems.forEach(item => {\n      item.addEventListener('click', async function() {\n        const productId = this.getAttribute('data-product-id');\n        \n        // Clear all selections across all categories\n        Object.entries(productData).forEach(([category, data]) => {\n          if (data.products) {\n            data.products.forEach(p => { p.selected = false; });\n          }\n        });\n        \n        // Select the clicked product\n        const product = productData[selectedCategory].products.find(p => p.id.toString() === productId);\n        if (product) {\n          product.selected = true;\n        }\n        \n        // Re-render UI\n        renderUI();\n        \n        // Update label preview\n        await updateLabelPreview();\n      });\n    });\n    \n    // Quantity controls with accelerating increment\n    let quantity = 1;\n    const quantityDisplay = document.getElementById('quantityDisplay');\n    const decreaseButton = document.getElementById('decreaseQuantity');\n    const increaseButton = document.getElementById('increaseQuantity');\n    \n    // Variables for acceleration\n    let incrementInterval = null;\n    let decrementInterval = null;\n    let accelerationStage = 0;\n    let accelerationTimes = [0, 500, 1500, 3000]; // Time thresholds in ms for acceleration stages\n    let accelerationValues = [1, 2, 4, 8]; // Increment values for each stage\n    let holdStartTime = 0;\n    \n    // Function to update quantity value and display\n    function updateQuantity(newValue) {\n      quantity = Math.max(1, newValue); // Ensure quantity doesn't go below 1\n      quantityDisplay.textContent = quantity;\n    }\n    \n    // Function to increment with acceleration based on hold time\n    function incrementWithAcceleration() {\n      const currentHoldTime = Date.now() - holdStartTime;\n      let incrementValue = 1;\n      \n      // Determine which acceleration stage we're in\n      for (let i = accelerationTimes.length - 1; i >= 0; i--) {\n        if (currentHoldTime >= accelerationTimes[i]) {\n          incrementValue = accelerationValues[i];\n          accelerationStage = i;\n          break;\n        }\n      }\n      \n      updateQuantity(quantity + incrementValue);\n      \n      // Adjust interval timing based on acceleration stage\n      if (accelerationStage !== accelerationTimes.length - 1 && \n          currentHoldTime >= accelerationTimes[accelerationStage + 1]) {\n        // Move to next acceleration stage\n        accelerationStage++;\n        \n        // Clear existing interval and start a new one with faster timing\n        clearInterval(incrementInterval);\n        const intervalTime = Math.max(50, 200 - (accelerationStage * 50));\n        incrementInterval = setInterval(incrementWithAcceleration, intervalTime);\n      }\n    }\n    \n    // Function to decrement with acceleration based on hold time\n    function decrementWithAcceleration() {\n      const currentHoldTime = Date.now() - holdStartTime;\n      let decrementValue = 1;\n      \n      // Determine which acceleration stage we're in\n      for (let i = accelerationTimes.length - 1; i >= 0; i--) {\n        if (currentHoldTime >= accelerationTimes[i]) {\n          decrementValue = accelerationValues[i];\n          accelerationStage = i;\n          break;\n        }\n      }\n      \n      updateQuantity(quantity - decrementValue);\n      \n      // Adjust interval timing based on acceleration stage\n      if (accelerationStage !== accelerationTimes.length - 1 && \n          currentHoldTime >= accelerationTimes[accelerationStage + 1]) {\n        // Move to next acceleration stage\n        accelerationStage++;\n        \n        // Clear existing interval and start a new one with faster timing\n        clearInterval(decrementInterval);\n        const intervalTime = Math.max(50, 200 - (accelerationStage * 50));\n        decrementInterval = setInterval(decrementWithAcceleration, intervalTime);\n      }\n    }\n    \n    // Increase button - click and hold\n    increaseButton.addEventListener('mousedown', function(e) {\n      // Immediate increment by 1\n      updateQuantity(quantity + 1);\n      \n      // Setup acceleration for held button\n      holdStartTime = Date.now();\n      accelerationStage = 0;\n      \n      // Start interval for continuous increment\n      incrementInterval = setInterval(incrementWithAcceleration, 200);\n      \n      e.preventDefault(); // Prevent text selection\n    });\n    \n    increaseButton.addEventListener('mouseup', function() {\n      clearInterval(incrementInterval);\n    });\n    \n    increaseButton.addEventListener('mouseleave', function() {\n      clearInterval(incrementInterval);\n    });\n    \n    // Decrease button - click and hold\n    decreaseButton.addEventListener('mousedown', function(e) {\n      // Immediate decrement by 1 if possible\n      if (quantity > 1) {\n        updateQuantity(quantity - 1);\n      }\n      \n      // Setup acceleration for held button\n      holdStartTime = Date.now();\n      accelerationStage = 0;\n      \n      // Start interval for continuous decrement\n      decrementInterval = setInterval(decrementWithAcceleration, 200);\n      \n      e.preventDefault(); // Prevent text selection\n    });\n    \n    decreaseButton.addEventListener('mouseup', function() {\n      clearInterval(decrementInterval);\n    });\n    \n    decreaseButton.addEventListener('mouseleave', function() {\n      clearInterval(decrementInterval);\n    });\n    \n    // Touch support for mobile\n    increaseButton.addEventListener('touchstart', function(e) {\n      // Immediate increment by 1\n      updateQuantity(quantity + 1);\n      \n      // Setup acceleration for held button\n      holdStartTime = Date.now();\n      accelerationStage = 0;\n      \n      // Start interval for continuous increment\n      incrementInterval = setInterval(incrementWithAcceleration, 200);\n      \n      e.preventDefault(); // Prevent scrolling\n    });\n    \n    increaseButton.addEventListener('touchend', function() {\n      clearInterval(incrementInterval);\n    });\n    \n    decreaseButton.addEventListener('touchstart', function(e) {\n      // Immediate decrement by 1 if possible\n      if (quantity > 1) {\n        updateQuantity(quantity - 1);\n      }\n      \n      // Setup acceleration for held button\n      holdStartTime = Date.now();\n      accelerationStage = 0;\n      \n      // Start interval for continuous decrement\n      decrementInterval = setInterval(decrementWithAcceleration, 200);\n      \n      e.preventDefault(); // Prevent scrolling\n    });\n    \n    decreaseButton.addEventListener('touchend', function() {\n      clearInterval(decrementInterval);\n    });\n    \n    // Print button\n    const printButton = document.getElementById('printButton');\n    printButton.addEventListener('click', async function() {\n      // Find selected product\n      let selectedProduct = null;\n      let selectedCat = null;\n      \n      // Check all categories for a selected product\n      for (const [category, data] of Object.entries(productData)) {\n        if (data.products) {\n          const product = data.products.find(p => p.selected);\n          if (product) {\n            selectedProduct = product;\n            selectedCat = category;\n            break;\n          }\n        }\n      }\n      \n      if (!selectedProduct) {\n        alert('Please select a product first');\n        return;\n      }\n      \n      const quantity = parseInt(document.getElementById('quantityDisplay').textContent, 10);\n      \n      // Show confirmation\n      const confirm = window.confirm(`Print ${quantity} labels for ${selectedProduct.productname}?`);\n      \n      if (confirm) {\n        // In a real app, we would call the API to print the label\n        alert(`Printing ${quantity} labels for ${selectedProduct.productname}`);\n      }\n    });\n  }\n  \n  // Initial render\n  renderUI();\n  \n  console.log('Pet Fresh Label Printer initialized');\n}); "],"names":["_regeneratorRuntime","r","t","e","Object","prototype","n","hasOwnProperty","o","Symbol","i","iterator","a","asyncIterator","u","toStringTag","c","defineProperty","value","enumerable","configurable","writable","h","Generator","create","Error","done","method","arg","delegate","d","f","sent","_sent","dispatchException","abrupt","s","type","Context","call","wrap","GeneratorFunction","GeneratorFunctionPrototype","l","p","getPrototypeOf","y","x","v","g","forEach","_invoke","AsyncIterator","_typeof","resolve","__await","then","TypeError","next","w","tryEntries","push","m","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","unshift","pop","values","prev","charAt","slice","stop","rval","complete","finish","_catch","delegateYield","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","Array","from","test","isArray","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","document","addEventListener","_callee5","appDiv","appVersion","productData","isSettingsOpen","openSettingsWindow","response","selectedCategory","searchQuery","isSearchActive","currentLabelScale","currentLabelTranslateX","currentLabelTranslateY","baseScale","renderUI","generateLabelHtml","_generateLabelHtml","updateLabelPreview","_updateLabelPreview","generateBarcode","setupPreviewControls","getFilteredProducts","groupProductsByType","hasMultipleProductTypes","setupEventListeners","_callee5$","_context5","_setupEventListeners","settingsButton","getElementById","style","backgroundColor","closeSettingsButton","settingsDialog","target","allButtons","querySelectorAll","button","id","boxShadow","includes","transform","searchInput","key","keyCode","trim","searchContainer","parentElement","focus","clearSearchBtn","clearSearchResultsBtn","categoryElements","item","category","getAttribute","productItems","_callee","productId","product","_callee$","_context","entries","_ref7","_ref8","data","products","selected","find","quantity","quantityDisplay","decreaseButton","increaseButton","incrementInterval","decrementInterval","accelerationStage","accelerationTimes","accelerationValues","holdStartTime","updateQuantity","newValue","Math","max","textContent","incrementWithAcceleration","currentHoldTime","Date","now","incrementValue","clearInterval","intervalTime","setInterval","decrementWithAcceleration","decrementValue","preventDefault","printButton","_callee2","selectedProduct","selectedCat","_i","_Object$entries","_Object$entries$_i","confirm","_callee2$","_context2","alert","parseInt","window","concat","productname","_hasMultipleProductTy","types","Set","add","size","_groupProductsByType","groups","_getFilteredProducts","results","lowerCaseQuery","toLowerCase","categoryData","_productData$selected","_setupPreviewControls","initialScale","baseFitScale","labelElement","previewArea","zoomInButton","zoomOutButton","zoomResetButton","scale","isDragging","startX","startY","translateX","translateY","lastDistance","originalScale","updateTransform","withTransition","undefined","transition","setTimeout","clientX","clientY","cursor","dx","dy","delta","sign","deltaY","scaleFactor","newScale","min","rect","getBoundingClientRect","mouseX","left","mouseY","top","scaleDiff","touches","sqrt","distance","centerX","centerY","elementCenterX","elementCenterY","ratio","_generateBarcode","element","barcode","innerHTML","barcodeWidth","height","moduleCount","moduleWidth","svg","currentX","charCode","charCodeAt","j","isBlack","width","setAttribute","_updateLabelPreview3","_callee4","productCategory","_i2","_Object$entries2","_Object$entries2$_i","labelPreviewContainer","labelHtml","previewHtml","previewAreaElement","barcodeElement","toggleDesignButton","designOverlay","designVisible","_callee4$","_context4","barcodes","querySelector","display","previewRect","labelRect","scaleWidth","scaleHeight","fitScale","opacity","t0","console","error","message","_updateLabelPreview2","_generateLabelHtml3","_callee3","formattedPrice","labelWidth","labelHeight","gutterHeight","contentHeight","horizontalMargin","contentWidth","productTitleHeight","ingredientsHeight","petFoodOnlyHeight","storageInstructionsHeight","dataHeight","priceHeight","contentStartY","titleY","ingredientsY","petFoodOnlyY","storageInstructionsY","dataY","priceY","productName","nameLength","words","calculatedFontSize","forceSingleLine","productTitleHTML","bestBeforeDate","today","expirationDate","defaultExpirationDate","ingredientsLine1","ingredientsLine2","ingredientsLine3","weightQuantityHTML","templateVars","templatePath","templateResponse","templateContent","_callee3$","_context3","productprice","toFixed","split","expirationDuration","expirationType","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","toLocaleDateString","day","month","year","productUnit","productSize","overlayImagePath","fetch","text","_ref0","_ref1","regex","RegExp","replace","t1","_generateLabelHtml2","_x","_x2","_renderUI","map","_ref2","_ref3","isSelected","color","join","filteredProducts","sizeUnit","groupedProducts","_ref4","_ref5","_openSettingsWindow","api","openSettings","log","err","getAppVersion","version","versionElement","json"],"sourceRoot":""}